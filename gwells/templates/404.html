<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="HandheldFriendly" content="true"/>
    <meta name="description" content="Search for and access details on over 100,000 groundwater wells in British Columbia by map or text."/>
    <meta name="author" content=""/>
    <meta name="navigaton_title" content=""/>
    <meta name="dcterms.publisher" content="Province of British Columbia"/>
    <meta name="dcterms.created" content="2015-06-05"/>
    <meta name="dcterms.modified" content="2016-12-30"/>
    <meta name="security_label" content="Public"/>
    <meta name="security_classification" content="Low"/>
    <meta name="dcterms.subject" content=""/>
    <meta name="dcterms.creator" content=""/>
    <meta name="dcsext.creator" content=""/>
    <meta name="dcterms.language" content="eng"/>
    <meta name="keywords" content="groundwater wells, ground water, well, British Columbia, water well drilling, geoexchange well, water well, geotechnical well, water supply wells, dewatering wells, injection wells, remediation wells, monitoring wells">
    <link rel="apple-touch-icon" sizes="57x57" href="/gwells/static/gwells/icons/apple-icon-57x57.f71d0a91df9b.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="/gwells/static/gwells/icons/apple-icon-60x60.f95c8f52fb32.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="/gwells/static/gwells/icons/apple-icon-72x72.db844753d7b4.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="/gwells/static/gwells/icons/apple-icon-76x76.06beef4e2564.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="/gwells/static/gwells/icons/apple-icon-114x114.4fac48914f93.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="/gwells/static/gwells/icons/apple-icon-120x120.8cfb7427d805.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="/gwells/static/gwells/icons/apple-icon-144x144.a67e2b772739.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="/gwells/static/gwells/icons/apple-icon-152x152.bf5139378118.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/gwells/static/gwells/icons/apple-icon-180x180.997f53883c5a.png"/>
    <link rel="icon" type="image/png" sizes="192x192" href="/gwells/static/gwells/icons/android-icon-192x192.a539c69995c9.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/gwells/static/gwells/icons/favicon-32x32.fa554bae3fc5.png"/>
    <link rel="icon" type="image/png" sizes="96x96" href="/gwells/static/gwells/icons/favicon-96x96.f056259db375.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/gwells/static/gwells/icons/favicon-16x16.54d9dfb72ad0.png"/>
    <link rel="manifest" href="/gwells/static/gwells/icons/manifest.e78eb10da6c9.json"/>
    <link rel="shortcut icon" href="/gwells/static/gwells/images/favicon.e4edb347d97a.ico"/>
    <meta name="msapplication-TileColor" content="#ffffff"/>
    <meta name="msapplication-TileImage" content="/gwells/static/gwells/icons/ms-icon-144x144.a67e2b772739.png"/>
    <meta name="theme-color" content="#ffffff"/>

    <title>Groundwater Wells Search - Province of British Columbia</title>

    <!-- BOOTSTRAP CORE CSS v3.3.6 -->
    <link rel="stylesheet" href="/gwells/static/gwells/css/bootstrap.min.2f624089c65f.css"/>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link rel="stylesheet" href="/gwells/static/gwells/css/ie10-viewport-bug-workaround.8b4adf6ad688.css"/>

    <!-- STANDARD CSS -->
    <link type="text/css" href="/gwells/static/gwells/css/main.bde5d0dbc369.css" rel="stylesheet"/>

    <!-- FONTS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>

    <!-- CUSTOM CSS -->
    <link href="/gwells/static/gwells/css/custom-main.40744f59311c.css" rel="stylesheet"/>
    <link href="/gwells/static/gwells/css/custom-form.c3624ec15842.css" rel="stylesheet"/>

    <!-- LEAFLET CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
       integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin=""/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" type="text/css" media="all" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css" type="text/css" media="all" />


    <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-106174915-1', 'auto');
        ga('send', 'pageview');
    </script>

</head>

<body>
    <!-- HEADER -->
    <div id="header" role="banner">
        <div id="header-main" class="navbar navbar-default navbar-fixed-top show-for-print">
            <div class="container">
                <div id="header-main-row" class="row">
                    <!-- GOV TITLE -->
                    <div class="col-sm-3 col-md-2 col-print-4 header-main-left">
                        <div id="screen-logo" class="hide-for-print show-for-screen">
                            <a href="http://gov.bc.ca"><img src="/gwells/static/gwells/images/gov3_bc_logo.1452ec1ddcdf.png" width="155" height="52"  alt="Province of British Columbia" longdesc="Province of British Columbia"/></a>
                        </div>
                        <div id="print-logo" class="hide-for-screen show-for-print">
                            <a href="http://gov.bc.ca"><img src="/gwells/static/gwells/images/BCID_H_rgb_pos.f44a7ed867b8.png" width="155" height="52" alt="Province of British Columbia" longdesc="Province of British Columbia"/></a>
                        </div>

                        <div id="access">
                            <ul>
                                <li>
                                    <a accesskey="0" href="#main-content-anchor" aria-label="Skip to main content">Skip to main content</a>
                                </li>
                                <li>
                                    <a accesskey="1" href="#navigation-anchor" aria-label="Skip to navigation">Skip to navigation</a>
                                </li>
                                <li>
                                    <a accesskey="2" href="http://gov.bc.ca/webaccessibility/" aria-label="Accessibility Statement">Accessibility Statement</a>
                                </li>
                            </ul>
                        </div>

                        <button type="submit" class="navbar-toggle env-button-custom collapsed hide-for-print" data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-label="Burger Navigation">
                            <img src="/gwells/static/gwells/images/menu-open-mobile.7def9d182788.png" alt="Open Menu" longdesc="Open Menu" width="34" height="25" class="hide-for-print"/>
                        </button>

                    </div>

                    <div class="col-sm-8 col-lg-6 col-print-8 show-for-print">
                        <div class="bcgov-title">
                            <h1>Groundwater Wells and Aquifers</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /HEADER -->
    <!-- BODY CONTENT -->
    <div id="topicTemplate" class="template container env-container">

        <!-- PAGE CONTENT -->
        <div class="row">
            <div class="col-sm-12 alert alert-warning">
                <div id="too-many-wells" role="alert" aria-atomic="true">
                    <h1>The page you're looking for can't be found.</h1><a href="/gwells">Search for a well</a><br>
                    <br>
                </div>
            </div>
        </div>
    </div>
    <!-- /FOOTER -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/gwells/static/gwells/js/jquery-2.2.4.min.2f6b11a7e914.js"></script>
    <script src="/gwells/static/gwells/js/bootstrap.min.c5b5b2fa19bd.js"></script>
    <script src="/gwells/static/gwells/js/misc.2bb82d35405d.js"></script>
    <script src="/gwells/static/gwells/js/navMenu.410942bc37b9.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/gwells/static/gwells/js/ie10-viewport-bug-workaround.90e29070de7d.js"></script>

   <!-- Leaflet imports and custom Leaflet-based library -->
    <script src="/gwells/static/gwells/js/leaflet.3f4cb4211a38.js"></script>
    <script src="/gwells/static/gwells/js/esri-leaflet.be8db25ad3da.js"></script>
    <script src="/gwells/static/gwells/js/wellsMap.8a3e5aa33c7d.js"></script>
    <script src="/gwells/static/gwells/js/coordSync.b574f969d507.js"></script>

    <script src="/gwells/static/gwells/js/jquery.formset.f213a82023fb.js"></script>
    <script src="/gwells/static/gwells/js/jquery.dataTables.min.114c26084cb4.js"></script>
    <script src="/gwells/static/gwells/js/dataTables.bootstrap.min.19b11075f9b4.js"></script>


<script>
    var searchMap = null;
    var searchMapNodeId = 'search-map';
    var attribNode = 'attribution'; // The ID of the external node to contain the attribution.
    var mapErrorsNodeId = 'map-errors'; // The ID of the external node to display map operation errors.

    // Options for creating the searchMap. This map instance has the ability to drive search queries via the
    // startIdentifyWellsOperation, which allows a user to draw a rectangle, and the endIdentifyWellsOperation,
    // which bundles opposite corners of this rectangle into the form before submitting it for the server
    // to process. The map also displays any wells successfully returned from a form search, whether or not
    // the search was driven by drawing a rectangle or by a user manually submitting the form.
    // Wells can be clicked to display a subset of their tabulated information in a popup directly on the map.
    var searchMapOptions = {
        SEARCH_URL: "/gwells/ajax/map_well_search/",
        // The ID of the addMap div.
        mapNodeId: searchMapNodeId,
        // Minimum zoom level of the map (i.e., how far it can be zoomed out)
        minZoom: 4,
        // Maximum zoom of the map (i.e., how far it can be zoomed in)
        maxZoom: 17,
        // Bounding lats and longs of the map, containing the lat/long extremes of BC.
        mapBounds: {
            north: 60.4,
            south: 47.5,
            west: -139.073671,
            east: -114.033822,
            padding: 0.05 // Margin beyond extremes to pad the bounds with, as a ratio of the total bounding box.
        },
        // ESRI layers associated with the map
        esriLayers: [{
            url: 'https://maps.gov.bc.ca/arcserver/rest/services/Province/roads_wm/MapServer'
        }],
        // WMS layers associated with the map
        wmsLayers: [{
            rootUrl: 'https://openmaps.gov.bc.ca/geo/pub/WHSE_CADASTRE.PMBC_PARCEL_FABRIC_POLY_SVW/ows?',
            format: 'image/png',
            layers: 'pub:WHSE_CADASTRE.PMBC_PARCEL_FABRIC_POLY_SVW',
            styles: 'PMBC_Parcel_Fabric_Cadastre_Outlined',
            transparent: true
        }],
        initialExtent: null,
        externalQueryCallback: searchWellsByExtentCallback,
        externalAttributionNodeId: attribNode,
        mapErrorsNodeId: mapErrorsNodeId
    };

    // Hard-coded names for the hidden lat-long fields that delineate a
    // rectangle drawn by the user as part of an identifyWells operation.
    var startLatLongFieldName = "start_lat_long";
    var endLatLongFieldName = "end_lat_long";
    var latLongDelimiter = ",";

    function searchWellsByExtentCallback(startLatLong, endLatLong) {
        if (startLatLong && endLatLong) {
            var startLatLongString = startLatLong.lat + latLongDelimiter + startLatLong.lng;
            var endLatLongString = endLatLong.lat + latLongDelimiter + endLatLong.lng;
            $("[name=" + startLatLongFieldName + "]").val(startLatLongString);
            $("[name=" + endLatLongFieldName + "]").val(endLatLongString);
        }
        $("#id-searchForm").submit();
    }

    $(document).ready(function() {
        $('[data-toggle="popover"]').popover({
            'trigger': 'hover'
        });
        var wellsJson = $("#wells-json").attr("data-wells-search-json") || null;
        var wells = JSON.parse(wellsJson);
        var latLongBox = JSON.parse($("#wells-json").attr("data-lat-long-box") || null);
        searchMapOptions.initialExtent = latLongBox;
        searchMapOptions.initialWells = wells;
        searchMap = new WellsMap(searchMapOptions);

        // Definition for results table
        $('#results').DataTable({
            'columnDefs': [{
                "type": "html-num",
                "targets": "numeric",
                "orderSequence": ["asc", "desc"],
                "render": function(data, type, row) {
                    var result = data.trim();
                    return result;
                }
            }, {
                "type": "html",
                "targets": "html",
                "render": function(data, type, row) {
                    result = data.trim();
                    result = data.replace("\r", "").replace("\n", "");
                    return result;
                }
            }],
            'rowReorder': true,
            'searching': false
        });
    });
</script>

<script>
    /*  To help show the popup when putting the focus on the question mark icon with keyboard*/
    document.getElementById("well_tag_question").addEventListener("focusin", trigger_over);
    document.getElementById("well_tag_question").addEventListener("focusout", trigger_out);
    document.getElementById("address_question").addEventListener("focusin", trigger_over);
    document.getElementById("address_question").addEventListener("focusout", trigger_out);
    document.getElementById("legal_id_question").addEventListener("focusin", trigger_over);
    document.getElementById("legal_id_question").addEventListener("focusout", trigger_out);
    document.getElementById("owner_question").addEventListener("focusin", trigger_over);
    document.getElementById("owner_question").addEventListener("focusout", trigger_out);

    function trigger_over() {
        $(this).trigger('mouseover');
    }

    function trigger_out() {
        $(this).trigger('mouseout');
    }
</script>



</body>

</html>
