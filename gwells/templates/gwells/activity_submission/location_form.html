{% extends 'gwells/base.html' %}
{% load crispy_forms_tags %}

{% block title %}Activity Submission{% endblock %}

{% block bodyheading_block %}Submit Activity{% endblock %}

{% block introduction_block %}
    {{ wizard_data.well_activity_type }} - {{ wizard_data.well_class }} - {{ wizard_data.work_start_date }}
     <br /><br />
{% endblock %}

{% block body_block %}

<p>Step {{ wizard.steps.step1 }} of {{ wizard.steps.count }}</p>
        <form action="" method="post">
			{% csrf_token %}
            {{ wizard.management_form }}
            {% if wizard.form.non_field_errors %}
                <div id="errors" role="alert" aria-atomic="true" class="alert alert-danger">
                {{ wizard.form.non_field_errors }}
                </div>
            {% endif %}

            <fieldset>
            <legend>Well Location</legend>
            <div class="row">
                <div class="col-md-12">
                    Please provide as much well location information as possible.
                    A minimum of one type of well location information is required below.<br /><br />
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label>1) Civic Address</label>
                </div>
                <div class="col-md-10">
                    <input type="checkbox" id="chkSameAsOwnerAddress" /> <label for="chkSameAsOwnerAddress">Same as Owner Address</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    {{ wizard.form.street_address|as_crispy_field}}
                </div>
                <div class="col-md-7">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <span class="city">{{ wizard.form.city|as_crispy_field}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    OR
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    &nbsp;
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label>2) Legal Description</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_lot|as_crispy_field}}</span>
                </div>
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_plan|as_crispy_field}}</span>
                </div>
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_district_lot|as_crispy_field}}</span>
                </div>
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_block|as_crispy_field}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_section|as_crispy_field}}</span>
                </div>
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_township|as_crispy_field}}</span>
                </div>
                <div class="col-md-2">
                    <span class="city">{{ wizard.form.legal_range|as_crispy_field}}</span>
                </div>
                <div class="col-md-3">
                    <span class="city">{{ wizard.form.legal_land_district|as_crispy_field}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    OR
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    &nbsp;
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label>3) Parcel Identifier</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    {{ wizard.form.legal_pid|as_crispy_field}}
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    &nbsp;
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    &nbsp;
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    {{ wizard.form.well_location_description|as_crispy_field}}
                </div>
                <div class="col-md-4">
                </div>
            </div>
            </fieldset>


    		<div class="form-group">
    			<div class="controls">
                {% if wizard.steps.prev %}
                    <a class="btn btn-default" id="previous_button" href="javascript:history.go(-1);">Previous Step</a>
                {% endif %}
                {% if wizard.steps.next %}
                    <input type="submit" value="Next Step" class="btn btn-primary" id="submit-id-next" />
                {% else %}
    				<input type="submit" value="Submit Report" class="btn btn-primary" id="submit-id-s" />
                {% endif %}
    			</div>
			</div>
        </form>

{% endblock %}

{% block jqscript_block %}
<script>
  $('#chkSameAsOwnerAddress').on('change', function() {
    if ($('#chkSameAsOwnerAddress').is(':checked')) {
      $('#id_location-street_address').val('{{ wizard_data.owner_mailing_address }}');
      $('#id_location-street_address').prop("readonly", true);
      $('#id_location-city').val('{{ wizard_data.owner_city }}');
      $('#id_location-city').prop("readonly", true);
    } else {
      $('#id_location-street_address').prop("readonly", false);
      $('#id_location-city').prop("readonly", false);
    }
  });
</script>
{% endblock %}